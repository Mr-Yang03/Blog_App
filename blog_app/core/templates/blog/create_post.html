{% extends 'base/base.html' %}
{% load static %}

{% block title %}Create Post - Blog App{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/post_form.css' %}">
{% endblock %}

{% block content %}
<div class="post-form-container">
    <div class="post-form-header">
        <h1>Create New Post</h1>
        <a href="{% url 'blog:home' %}" class="btn-secondary">Cancel</a>
    </div>

    <form method="post" enctype="multipart/form-data" class="post-form">
        {% csrf_token %}

        <div class="form-group">
            <label for="title">Title *</label>
            <input type="text" id="title" name="title" required maxlength="200" placeholder="Enter post title">
        </div>

        <div class="form-group">
            <label for="excerpt">Excerpt</label>
            <textarea id="excerpt" name="excerpt" rows="3" maxlength="300" placeholder="Brief summary of your post (max 300 characters)"></textarea>
            <small>This will be shown in post previews</small>
        </div>

        <div class="form-group">
            <label for="content">Content *</label>
            <textarea id="content" name="content" required rows="15" placeholder="Write your post content here..."></textarea>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="category">Category</label>
                <select id="category" name="category">
                    <option value="">-- Select Category --</option>
                    {% for category in categories %}
                        <option value="{{ category.id }}">{{ category.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="status">Status *</label>
                <select id="status" name="status" required>
                    <option value="draft">Draft</option>
                    <option value="published">Published</option>
                    <option value="archived">Archived</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label for="tags">Tags</label>
            <select id="tags" name="tags" multiple>
                {% for tag in tags %}
                    <option value="{{ tag.id }}">{{ tag.name }}</option>
                {% endfor %}
            </select>
            <small>Hold Ctrl (Windows) or Cmd (Mac) to select multiple tags</small>
        </div>

        <div class="form-group">
            <label for="featured_image">Featured Image</label>
            <input type="file" id="featured_image" name="featured_image" accept="image/*">
            <small>Recommended size: 1200x630 pixels</small>
        </div>

        <div class="form-group checkbox-group">
            <label>
                <input type="checkbox" name="is_featured">
                <span>Mark as Featured Post</span>
            </label>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn-primary">Create Post</button>
            <a href="{% url 'blog:home' %}" class="btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
